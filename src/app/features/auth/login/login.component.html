<form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="flex flex-col gap-5">
    <!-- General Error Message -->
    <div *ngIf="error()"
        class="w-full bg-red-500/10 border border-red-500/20 text-red-600 px-4 py-3 rounded-xl text-sm flex items-center gap-3">
        <i class="pi pi-exclamation-circle"></i>
        <span class="font-medium">{{ error() }}</span>
    </div>

    <div class="space-y-2">
        <label for="email" class="form-label">Email Address</label>
        <div class="relative">
            <i class="pi pi-envelope absolute left-3 top-1/2 -translate-y-1/2 text-text-muted"></i>
            <input type="email" id="email" formControlName="email" placeholder="Enter your email"
                class="form-input pl-10"
                [class.border-red-500]="loginForm.get('email')?.invalid && loginForm.get('email')?.touched" />
        </div>
        <small class="form-error" *ngIf="loginForm.get('email')?.invalid && loginForm.get('email')?.touched">
            Please enter a valid email address
        </small>
    </div>

    <div class="space-y-2">
        <label for="password" class="form-label">Password</label>
        <div class="relative">
            <i class="pi pi-lock absolute left-3 top-1/2 -translate-y-1/2 text-text-muted"></i>
            <input type="password" id="password" formControlName="password" placeholder="••••••••"
                class="form-input pl-10"
                [class.border-red-500]="loginForm.get('password')?.invalid && loginForm.get('password')?.touched" />
        </div>
        <small class="form-error" *ngIf="loginForm.get('password')?.invalid && loginForm.get('password')?.touched">
            Password is required
        </small>
    </div>

    <div class="flex items-center justify-between mt-1">
        <div class="flex items-center gap-2">
            <input type="checkbox" id="remember"
                class="w-4 h-4 text-brand-main border-border-default rounded focus:ring-brand-main bg-bg-surface">
            <label for="remember" class="text-sm text-text-secondary cursor-pointer">Remember me</label>
        </div>
        <a routerLink="/auth/forgot-password"
            class="text-sm font-semibold text-brand-main hover:text-brand-hover">Forgot
            password?</a>
    </div>

    <button type="submit" class="btn-primary w-full py-2.5 mt-2" [disabled]="loginForm.invalid || loading()">
        <i *ngIf="loading()" class="pi pi-spin pi-spinner mr-2"></i>
        <span>{{ loading() ? 'Signing in...' : 'Sign In' }}</span>
    </button>

    <p class="text-center text-sm text-text-muted mt-2">
        Institutional Access Only. <a href="#"
            class="font-bold text-brand-main hover:text-brand-hover transition-colors">Contact IT Support</a>
    </p>
</form>